# https://docs.cilium.io/en/latest/network/bgp-control-plane/
apiVersion: cilium.io/v2alpha1
kind: CiliumBGPClusterConfig
metadata:
    name: l3-policy
spec:
    nodeSelector:
        matchLabels:
            kubernetes.io/os: linux
    bgpInstances:
        - name: instance-65001
          localASN: 65001
          peers:
            - name: peer-65000-opnsense-v4
              peerAddress: ENC[AES256_GCM,data:s0uAkk3jKAhoioY=,iv:x1GPP3t6g+15FfTO6gHXfBLy+LwdKp11cLyKqUtYTPA=,tag:CWjO6wUPfCpjilUeMBfapw==,type:str]
              peerASN: 65000
              peerConfigRef:
                name: cilium-peer-v4
            - name: peer-65000-opnsense-v6
              peerAddress: ENC[AES256_GCM,data:E1vJadtHddaF8n2KIye6m3RtkViyK8EW,iv:YqW+Nhjx32EmvHWjHDynugT7sLudMusj3S0hbK0YH/M=,tag:XkFg8iNGe5SMPRKnLIUWbQ==,type:str]
              peerASN: 65000
              peerConfigRef:
                name: cilium-peer-v6
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1eyeengpqz4yn654cv5gn5xvdhqchxqp7uw6yvx4sql5mv28mvquqrdwmjy
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB1KzE1R3FsVFRrUXdUek4r
            UVJoQ0lvS21wV3VxRVpnVE1MMHgwcndzQmxrClZpOUZmWlVtMGhTY05zQTNGYnRx
            c1F6TVpZNEg1aExmcGhFL0xJTHA2OTQKLS0tIEtqcWt6aHNEVTFUZTAzZGdTTHRC
            aXBUUE1mNG1oWDZYTnpjbER4ZkdPcTgKRD3YQK0iECzYiUlPmkjWRZfoeeVcywcq
            m0rAG0+2pFb/PSo3mLUSp+fJnWgBtCgxu/Hf4zb4HE9LsbDyNlR1TQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-10-29T19:34:57Z"
    mac: ENC[AES256_GCM,data:YJYB9U6/vn7/8LntOEY1qQRH/4GNR+UcaSmKWQdK0f9vHcgMFfJyX5kv3axUo8+8TpVNl83u58JOa6+cu/BvWj7dw20VzPLSrVblH6m5SU1iPgy6fom74c31S3ML3drUBCfDkZ8Augffi5/C9+cFbLdSX9lrN1X14TcYFYMQOTo=,iv:IxUuMHVH01pUFMXGIZNkxk93SPcmeZmrRJu+RCfgxio=,tag:Nd7QVr2UAG6GEuRncYsPpA==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|peerAddress)$
    version: 3.9.1
